/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/events.ts":
/*!***********************!*\
  !*** ./src/events.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"events\": () => (/* binding */ events)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n\nconst events = [\n    {\n        id: 'firstEvent',\n        title: 'Windfall Gains',\n        text: `<p>You have just completed a run with the merchant ship you've worked on for five years.` +\n            `This run was phenomenally succesful, and your captain has decided to ` +\n            `retire while she's ahead.</p>` +\n            `<p>You are now without a job and in a space station far from your home. To ease the sting ` +\n            `of her crew's unexpected unemployment, every crewmember has been given a large sum of money, ` +\n            `the \"extra's\" from the windfall earned on the last run. You know exactly what to do with ` +\n            `your earnings: become captain of your own vessel and seek your own fortune in the depths of ` +\n            `space.</p>` +\n            `<p>In this small port, your options are limited. Which ship will you choose?</p>`,\n        choices: [\n            {\n                next: 'worstShip',\n                cost: 40000,\n                getText: function (playerState) {\n                    return 'The grimy, cheap looking one. You\\'ll spend the rest of your money on your crew and supplies. Costs ' + this.cost + ' coins.';\n                },\n                isActionValid: function (playerState) {\n                    return playerState.coins >= this.cost;\n                },\n                performAction: function (playerState) {\n                    playerState.coins -= this.cost;\n                    playerState.ship = 'worst';\n                }\n            },\n            {\n                next: 'bestShip',\n                cost: 90000,\n                getText: function (playerState) {\n                    return 'The shiny, expensive one. With an AI like that, who needs a crew?! Costs ' + this.cost + ' coins.';\n                },\n                isActionValid: function (playerState) {\n                    return playerState.coins >= this.cost;\n                },\n                performAction: function (playerState) {\n                    playerState.coins -= this.cost;\n                    playerState.ship = 'best';\n                    playerState.crew.push({\n                        id: 'shipai',\n                        name: 'Ship AI',\n                        salary: 2000,\n                        savings: 0,\n                        jobTitle: 'ai',\n                        bonus: {\n                            holdMax: 2,\n                            speed: 2,\n                            health: 2,\n                        }\n                    });\n                    playerState.updateUI = true;\n                }\n            }\n        ]\n    },\n    {\n        id: 'worstShip',\n        title: 'The Worst Ship',\n        getText: function (playerState) {\n            return '<p>You picked the rough and tumble ship and managed to pay very little for it. The seller had a relieved look in their eyes as they passed all of the access and ownership documents to you. Now you need to find someone to help you run the thing.</p><p>Having worked on a ship for five years full time, and lived around them for your formative years before that, you are a fair jack-of-all-trades on board. But a good navigator and an experienced mechanic can make the difference between life and death in the vastness between stars.</p><p>First, a navigator. Two likely candidates come to mind. You saw the names of their current ships in port as you docked. They are both junior members of their current crews, and might be interested in becoming the senior navigator on your ship. Who do you ask?</p>';\n        },\n        choices: [\n            {\n                next: 'crewHired',\n                getText: function (playerState) {\n                    return 'Time to think about hiring a crew.';\n                },\n            }\n        ]\n    },\n    {\n        id: 'bestShip',\n        title: 'The Best Ship',\n        text: `<p>You manage to bargain the sale price down from impossibly high ` +\n            `to uncomfortably high. You will be eating light until you earn some ` +\n            `money. After one more exhaustive once-over of the ship, -- your ` +\n            `ship, now! -- you plot a course through the next several way points ` +\n            `toward your home planet and examine the markets to find cargo to ` +\n            `haul.</p>`,\n        choices: [\n            {\n                next: 'marketExcelsiorBeginning',\n                text: 'Check the markets and buy goods and supplies.',\n            }\n        ]\n    },\n    {\n        id: 'crewHired',\n        title: 'Your crew so far',\n        getText: function (playerState) {\n            var _a, _b, _c, _d;\n            let textBase = `<p>Several ships are in port whose junior officers you have seen or heard of over your years in this business. What sort of skillset are you most interested in acquiring now?</p><p>So far, you have hired: </p><ul>`;\n            if (!playerState.crew.find(obj => obj.jobTitle === 'doctor') &&\n                !playerState.crew.find(obj => obj.jobTitle === 'cargoMaster') &&\n                !playerState.crew.find(obj => obj.jobTitle === 'navigator') &&\n                !playerState.crew.find(obj => obj.jobTitle === 'ai')) {\n                textBase += '<li>No one! Careful, you\\'re not terribly effective all by yourself right now.</li>';\n            }\n            if (playerState.crew.find(obj => obj.jobTitle === 'navigator')) {\n                textBase += '<li>A navigator named ' + ((_a = playerState.crew.find(obj => obj.jobTitle === 'navigator')) === null || _a === void 0 ? void 0 : _a.name) + ', helpful in speeding your ship on its way.</li>';\n            }\n            if (playerState.crew.find(obj => obj.jobTitle === 'cargoMaster')) {\n                textBase += '<li>A cargo master named ' + ((_b = playerState.crew.find(obj => obj.jobTitle === 'cargoMaster')) === null || _b === void 0 ? void 0 : _b.name) + ', helpful at cramming more goods in less space.</li>';\n            }\n            if (playerState.crew.find(obj => obj.jobTitle === 'doctor')) {\n                textBase += '<li>A doctor named ' + ((_c = playerState.crew.find(obj => obj.jobTitle === 'doctor')) === null || _c === void 0 ? void 0 : _c.name) + ', helpful at keeping you and your crew healthy through the dangers of space travel.</li>';\n            }\n            if (playerState.crew.find(obj => obj.jobTitle === 'ai')) {\n                textBase += '<li>An AI named ' + ((_d = playerState.crew.find(obj => obj.jobTitle === 'ai')) === null || _d === void 0 ? void 0 : _d.name) + ' who is a jack of all trades.</li>';\n            }\n            textBase += '</ul>';\n            return textBase;\n        },\n        choices: [\n            {\n                next: 'hireCargoMaster',\n                getText: function (playerState) {\n                    const text = 'You have heard of two promising cargo master\\'s currently docked in Excelsior Station. Ask around to see if anyone would be interested in joining your crew.';\n                    return text;\n                },\n                isActionValid: function (playerState) {\n                    return !playerState.crew.find(obj => obj.jobTitle === 'cargoMaster');\n                }\n            },\n            {\n                next: 'hireDoctor',\n                getText: function (playerState) {\n                    const text = 'There is one doctor in the station who might be willing to join you. He has a reputation for botched operations and poisonings, but some people swear by his dietary advice. You send him a note asking him to join you, full of unspoken reservations.';\n                    return text;\n                },\n                isActionValid: function (playerState) {\n                    return !playerState.crew.find(obj => obj.jobTitle === 'doctor');\n                }\n            },\n            {\n                next: 'hireNavigator',\n                getText: function (playerState) {\n                    const text = 'Two likely candidates for navigator come to mind. You saw the names of their current ships in port as you docked. They are both junior members of their current crews, and might be interested in becoming the senior navigator on your ship.';\n                    return text;\n                },\n                isActionValid: function (playerState) {\n                    return !playerState.crew.find(obj => obj.jobTitle === 'navigator');\n                }\n            },\n            {\n                next: 'marketExcelsiorBeginning',\n                text: 'Your crew looks good. Time to buy trade goods!',\n            }\n        ]\n    },\n    { id: 'hireNavigator',\n        title: 'Hiring a Navigator',\n        cost: 10000,\n        getText: function (playerState) {\n            return '<p>You have two choices for navigator. The first is Dorothy.</p><p>Dorothy is an older, grizzled veteran of many journeys. She has always worked in the shadow of her superiors and has a sour attitude about it. But her captain swears that she can pilot a brick through an emergency planet landing, and looking at your new ship, that might be a useful skill to have.</p><p>Your other option is Eugene. Eugene is a young upstart, only in space for two years and already the subject of drunken praise in a dozen stations. He is impatient for glory, but charming, affable, and very clever.</p>';\n        },\n        choices: [\n            {\n                next: 'grouchyNavigator',\n                text: 'Ask Dorothy to join you.'\n            },\n            {\n                next: 'ambitiousNavigator',\n                text: 'Offer a position to Eugene.'\n            },\n            {\n                next: 'crewHired',\n                text: 'Decide to spend your money on a different crewmember.'\n            }\n        ] },\n    { id: 'grouchyNavigator',\n        title: 'An Experienced Navigator',\n        cost: 10000,\n        getText: function (playerState) {\n            return '<p>Dorothy calls you shortly after recieving your note offering her a job.</p><p>\"Sure, I\\'ll join your crew. It\\'ll cost you though kid. To start, pay me \"' + this.cost + ' coins. Every port, I\\'ll need another ' + (this.cost) / 10 + ' coins.</p>';\n        },\n        choices: [\n            {\n                cost: 10000,\n                next: 'crewHired',\n                getText: function (playerState) {\n                    return 'Hire them!';\n                },\n                isActionValid: function (playerState) {\n                    return playerState.coins >= (this.cost) + (this.cost / 10);\n                },\n                performAction: function (playerState) {\n                    playerState.coins -= this.cost;\n                    const person = {\n                        id: 'dorothy',\n                        name: 'Dorothy',\n                        jobTitle: 'navigator',\n                        salary: this.cost / 10,\n                        savings: this.cost * 2,\n                        bonus: {\n                            holdMax: 0,\n                            speed: 7,\n                            health: 0,\n                        }\n                    };\n                    playerState.crew.push(person);\n                }\n            },\n            {\n                next: 'ambitiousNavigator',\n                text: 'Turn her down, try asking the ambitious, young Eugene instead.'\n            },\n            {\n                next: 'crewHired',\n                text: 'Decide to spend your money on a different crew position, or none at all.'\n            }\n        ]\n    },\n    {\n        id: 'ambitiousNavigator',\n        title: 'An Ambitious Young Navigator',\n        cost: 5000,\n        getText: function (playerState) {\n            return '<p>You send a note offering a position to Eugene.</p><p>He sends a message back. It reads in part, \"Finally, someone is willing to get me off my boat! I\\'ll make you a good deal. Just \"' + this.cost + ' coins to start, and at every port, I\\'ll need another ' + (this.cost) / 10 + ' coins. You won\\'t regret this, I promise!\"</p>';\n        },\n        choices: [\n            {\n                cost: 5000,\n                next: 'crewHired',\n                getText: function (playerState) {\n                    return 'Hire them!';\n                },\n                isActionValid: function (playerState) {\n                    return playerState.coins >= (this.cost) + (this.cost / 10);\n                },\n                performAction: function (playerState) {\n                    playerState.coins -= this.cost;\n                    const person = {\n                        id: 'eugene',\n                        name: 'Eugene',\n                        jobTitle: 'navigator',\n                        salary: this.cost / 10,\n                        savings: this.cost * 2,\n                        bonus: {\n                            holdMax: 0,\n                            speed: 5,\n                            health: 0,\n                        }\n                    };\n                    playerState.crew.push(person);\n                }\n            },\n            {\n                next: 'grouchyNavigator',\n                text: 'Turn him down, try asking the experienced, older Dorothy instead.'\n            },\n            {\n                next: 'crewHired',\n                text: 'Decide to spend your money on a different crew position, or none at all.'\n            }\n        ]\n    },\n    { id: 'hireCargoMaster',\n        title: 'Hiring a Navigator',\n        getText: function (playerState) {\n            return '<p>You have two choices for cargo master. The first is Alice.</p><p>Alice has long blond hair and falls into holes more often than anyone expects. She has a history of awkward relationships with much older men. She is a terrible cargo master.</p><p>Your other option is Addams. Addams loves dark, cavernous spaces and styling them with creepy elegance. He is a decent cargo master.</p>';\n        },\n        choices: [\n            {\n                next: 'badCargoMaster',\n                text: 'Ask Alice to join you.'\n            },\n            {\n                next: 'goodCargoMaster',\n                text: 'Offer a position to Adamm.'\n            },\n            {\n                next: 'crewHired',\n                text: 'Decide to spend your money on a different crewmember.'\n            }\n        ] },\n    { id: 'badCargoMaster',\n        title: 'A Falling Cargo Master',\n        cost: 3000,\n        getText: function (playerState) {\n            return '<p>Alice answers your video call, her left temple bruised. Probably from a recent fall.</p><p>She smiles cheerfully and says, \"Your ship must have fewer holes than this one! I\\'d be happy to join you! It\\'ll cost me \"' + this.cost + ' coins to move into my new berth on your boat. Every port, I\\'ll need another ' + (this.cost) / 10 + ' coins.</p>';\n        },\n        choices: [\n            {\n                cost: 3000,\n                next: 'crewHired',\n                getText: function (playerState) {\n                    return 'Hire them!';\n                },\n                isActionValid: function (playerState) {\n                    return playerState.coins >= (this.cost) + (this.cost / 10);\n                },\n                performAction: function (playerState) {\n                    playerState.coins -= this.cost;\n                    const person = {\n                        id: 'alice',\n                        name: 'Alice',\n                        jobTitle: 'cargoMaster',\n                        salary: this.cost / 10,\n                        savings: this.cost * 2,\n                        bonus: {\n                            holdMax: 3,\n                            speed: 0,\n                            health: 0,\n                        }\n                    };\n                    playerState.crew.push(person);\n                }\n            },\n            {\n                next: 'goodCargoMaster',\n                text: 'Turn her down, try asking the brooding, capable Addams instead.'\n            },\n            {\n                next: 'crewHired',\n                text: 'Decide to spend your money on a different crew position, or none at all.'\n            }\n        ]\n    },\n    {\n        id: 'goodCargoMaster',\n        title: 'A Creepy Cargo Master',\n        cost: 12000,\n        getText: function (playerState) {\n            return '<p>You send a note offering a position to Addams.</p><p>He sends a message back. It reads in part, \"Your ship is small, and therefore ugly. But it has character. For \"' + this.cost + ' coins to start I\\'ll join you, and at every port, I\\'ll need another ' + (this.cost) / 10 + ' coins.\"</p>';\n        },\n        choices: [\n            {\n                cost: 12000,\n                next: 'crewHired',\n                getText: function (playerState) {\n                    return 'Hire them!';\n                },\n                isActionValid: function (playerState) {\n                    return playerState.coins >= (this.cost) + (this.cost / 10);\n                },\n                performAction: function (playerState) {\n                    playerState.coins -= this.cost;\n                    const person = {\n                        id: 'addams',\n                        name: 'Addams',\n                        jobTitle: 'cargoMaster',\n                        salary: this.cost / 10,\n                        savings: this.cost * 2,\n                        bonus: {\n                            holdMax: 10,\n                            speed: 0,\n                            health: 0,\n                        }\n                    };\n                    playerState.crew.push(person);\n                }\n            },\n            {\n                next: 'badCargoMaster',\n                text: 'Turn him down, try asking the clumsy Alice instead.'\n            },\n            {\n                next: 'crewHired',\n                text: 'Decide to spend your money on a different crew position, or none at all.'\n            }\n        ]\n    },\n    {\n        id: 'hireDoctor',\n        title: 'A Venomous Doctor',\n        cost: 700,\n        getText: function (playerState) {\n            return '<p>The doctor, an older man named Daniel, sends a note in response to your invitation. \"Of course I\\'ll join your crew, dear! My pharmaceutical skills are unappreciated here. It\\'ll only cost you \"' + this.cost + ' coins to hire me away from my current ship. Every port, I\\'ll need another ' + (this.cost) * 10 + ' coins.\"</p>';\n        },\n        choices: [\n            {\n                cost: 700,\n                next: 'crewHired',\n                getText: function (playerState) {\n                    return 'Hire them!';\n                },\n                isActionValid: function (playerState) {\n                    return playerState.coins >= (this.cost) + (this.cost * 10);\n                },\n                performAction: function (playerState) {\n                    playerState.coins -= this.cost;\n                    const person = {\n                        id: 'daniel',\n                        name: 'Daniel',\n                        jobTitle: 'doctor',\n                        salary: this.cost / 10,\n                        savings: this.cost * 2,\n                        bonus: {\n                            holdMax: 0,\n                            speed: 0,\n                            health: 7,\n                        }\n                    };\n                    playerState.crew.push(person);\n                }\n            },\n            {\n                next: 'crewHired',\n                text: 'Decide to spend your money on a different crew position, or none at all.'\n            }\n        ]\n    },\n    {\n        id: 'arriveExcelsior',\n        title: 'Arriving in Excelsior Station',\n        getText: function (playerState) {\n            const text1 = 'You are back in the remote Excelsior Station. You already look forward to leaving.';\n            return `<p>${text1}</p>`;\n        },\n        choices: [\n            {\n                next: 'marketEuropa',\n                getText: function (playerState) {\n                    const text1 = 'You might as well check what you can buy and sell before you get underway.';\n                    return `<p>${text1}</p>`;\n                },\n            }\n        ]\n    },\n    { id: 'marketExcelsior',\n        title: 'To market, to market...',\n        getText: function (playerState) {\n            const text1 = 'You scroll through the market listings, looking at what is best to buy and sell here. You have a little money left to buy some goods to ship and some supplies to keep yourself and your ship functioning on your journey.';\n            const text2 = 'The listings are kept in the \"Map\" section of your display.';\n            return `<p>${text1}</p><p>${text2}</p>`;\n        },\n        createChoices: function (playerState) {\n            if (this.choices.findIndex((c) => c.getText(playerState).includes('coins per unit.')) <= -1) {\n                this.choices = [\n                    ...(0,_utils__WEBPACK_IMPORTED_MODULE_0__.makePurchaseChoices)('marketHaliax', { food: 5, medicine: 5, luxury: 10, shipSupplies: 5 }, { food: 3, medicine: 4, luxury: 8, shipSupplies: 5 }, _utils__WEBPACK_IMPORTED_MODULE_0__.makeSellChoice, _utils__WEBPACK_IMPORTED_MODULE_0__.makeBuyChoice, playerState, _utils__WEBPACK_IMPORTED_MODULE_0__.hasEnoughMoney, _utils__WEBPACK_IMPORTED_MODULE_0__.getItemTitle),\n                    ...this.choices\n                ];\n            }\n        },\n        choices: [\n            {\n                next: 'arriveHaliax',\n                text: 'Leave for <b>Haliax Station</b>.'\n            }\n        ] },\n    { id: 'marketExcelsiorBeginning',\n        title: 'To market, to market...',\n        getText: function (playerState) {\n            const text1 = 'You scroll through the market listings, looking at what is best to buy and sell here. You have a little money left to buy some goods to ship and some supplies to keep yourself and your ship functioning on your journey.';\n            const text2 = 'The listings are kept in the \"Map\" section of your display.';\n            return `<p>${text1}</p><p>${text2}</p>`;\n        },\n        createChoices: function (playerState) {\n            if (this.choices.findIndex((c) => c.getText(playerState).includes('coins per unit.')) <= -1) {\n                this.choices = [\n                    ...(0,_utils__WEBPACK_IMPORTED_MODULE_0__.makePurchaseChoices)('marketHaliax', { food: 5, medicine: 5, luxury: 10, shipSupplies: 5 }, { food: 3, medicine: 4, luxury: 8, shipSupplies: 5 }, _utils__WEBPACK_IMPORTED_MODULE_0__.makeSellChoice, _utils__WEBPACK_IMPORTED_MODULE_0__.makeBuyChoice, playerState, _utils__WEBPACK_IMPORTED_MODULE_0__.hasEnoughMoney, _utils__WEBPACK_IMPORTED_MODULE_0__.getItemTitle),\n                    ...this.choices\n                ];\n            }\n        },\n        choices: [{ next: 'maidenVoyage', text: 'You finish stocking up and settle in for a long ride to Haliax Station in the Ganymede Prime system, your next port. You\\'re headed home to your family. It\\'s been almost a year since you last saw them.' }] },\n    {\n        id: 'maidenVoyage',\n        title: 'Your Maiden Voyage',\n        getText: function (playerState) {\n            const text1 = 'You head out from port, a captain on your maiden trip.';\n            const text2 = 'Bon voyage!';\n            return `<p>${text1}</p><p>${text2}</p>`;\n        },\n        choices: [\n            {\n                next: 'arriveHaliax',\n                getText: function (playerState) {\n                    const text1 = 'You arrive safely at Haliax Station.';\n                    return `<p>${text1}</p>`;\n                },\n                performAction: function (p) {\n                    p.currentLocationId = 'haliax';\n                }\n            }\n        ]\n    },\n    {\n        id: 'arriveExcelsior',\n        title: 'Arriving in Excelsior Station',\n        getText: function (playerState) {\n            const text1 = 'This station is a distant backwater.';\n            return `<p>${text1}</p>`;\n        },\n        choices: [\n            {\n                next: 'marketExcelsior',\n                getText: function (playerState) {\n                    const text1 = 'Go to market.';\n                    return `<p>${text1}</p>`;\n                },\n            }\n        ]\n    },\n    {\n        id: 'arriveHaliax',\n        title: 'Arriving in Haliax Station',\n        getText: function (playerState) {\n            const text1 = 'This station orbits a largely agrarian planet. Food is cheap, but art and entertainment are hard to find on this lightly populated world and it\\'s bare-bones station.';\n            return `<p>${text1}</p>`;\n        },\n        choices: [\n            {\n                next: 'marketHaliax',\n                getText: function (playerState) {\n                    const text1 = 'Go make a killing by selling luxury goods! Or at least check the markets with an eye toward the future.';\n                    return `<p>${text1}</p>`;\n                }\n            }\n        ]\n    },\n    {\n        id: 'marketHaliax',\n        title: 'To market, to market...',\n        getText: function (playerState) {\n            var text1 = 'You scroll through the market listings, looking at what is best to buy and sell here.';\n            var text2 = 'The listings are kept in the \"Map\" section of your display.';\n            return `<p>${text1}</p><p>${text2}</p>`;\n        },\n        createChoices: function (playerState) {\n            if (this.choices.findIndex((c) => c.getText(playerState).includes('coins per unit.')) <= -1) {\n                this.choices = [\n                    ...(0,_utils__WEBPACK_IMPORTED_MODULE_0__.makePurchaseChoices)('marketHaliax', { food: 5, medicine: 5, luxury: 10, shipSupplies: 5 }, { food: 3, medicine: 4, luxury: 8, shipSupplies: 5 }, _utils__WEBPACK_IMPORTED_MODULE_0__.makeSellChoice, _utils__WEBPACK_IMPORTED_MODULE_0__.makeBuyChoice, playerState, _utils__WEBPACK_IMPORTED_MODULE_0__.hasEnoughMoney, _utils__WEBPACK_IMPORTED_MODULE_0__.getItemTitle),\n                    ...this.choices\n                ];\n            }\n        },\n        choices: [\n            {\n                next: 'arriveExcelsior',\n                getText: function (playerState) {\n                    const text1 = 'You leave Haliax Station, heading to <b>Excelsior Station</b> in the Ganymede Prime system.';\n                    return `<p>${text1}</p>`;\n                },\n                performAction: function (p) {\n                    p.currentLocationId = 'excelsior';\n                }\n            },\n            {\n                next: 'arriveEuropa',\n                getText: function (playerState) {\n                    const text1 = 'You leave Haliax Station, heading to <b>Europa Station</b> in the Echidna Prime system.';\n                    return `<p>${text1}</p>`;\n                },\n                performAction: function (p) {\n                    p.currentLocationId = 'europa';\n                }\n            },\n            {\n                next: 'arriveDrone',\n                getText: function (playerState) {\n                    const text1 = 'You leave Haliax Station, heading to <b>Drone Station</b> in the Eldrazi Minor system.';\n                    return `<p>${text1}</p>`;\n                },\n                performAction: function (p) {\n                    p.currentLocationId = 'drone';\n                }\n            }\n        ]\n    },\n    {\n        id: 'arriveEuropa',\n        title: 'Arriving in Europa Station',\n        getText: function (playerState) {\n            const text1 = 'This station has no planet nearby, but it has made the most of it\\'s human resources. After a windfall investment in medical technology from a bank tycoon who fell in love with a stationer, the station became one of the best pharmaceutical producers on this trade route.';\n            return `<p>${text1}</p>`;\n        },\n        choices: [\n            {\n                next: 'marketEuropa',\n                getText: function (playerState) {\n                    const text1 = 'Go make a killing by selling medical goods! Or at least check the markets with an eye towards the future.';\n                    return `<p>${text1}</p>`;\n                },\n            }\n        ]\n    },\n    {\n        id: 'marketEuropa',\n        title: 'To market, to market...',\n        getText: function (playerState) {\n            const text1 = 'You scroll through the market listings, looking at what is best to buy and sell here.';\n            const text2 = 'The listings are kept in the \"Map\" section of your display.';\n            return `<p>${text1}</p><p>${text2}</p>`;\n        },\n        createChoices: function (playerState) {\n            if (this.choices.findIndex((c) => c.getText(playerState).includes('coins per unit.')) <= -1) {\n                this.choices = [\n                    ...(0,_utils__WEBPACK_IMPORTED_MODULE_0__.makePurchaseChoices)('marketHaliax', { food: 5, medicine: 5, luxury: 10, shipSupplies: 5 }, { food: 3, medicine: 4, luxury: 8, shipSupplies: 5 }, _utils__WEBPACK_IMPORTED_MODULE_0__.makeSellChoice, _utils__WEBPACK_IMPORTED_MODULE_0__.makeBuyChoice, playerState, _utils__WEBPACK_IMPORTED_MODULE_0__.hasEnoughMoney, _utils__WEBPACK_IMPORTED_MODULE_0__.getItemTitle),\n                    ...this.choices\n                ];\n            }\n        },\n        choices: [\n            {\n                next: 'arriveHaliax',\n                getText: function (playerState) {\n                    const text1 = 'You leave Haliax Station, heading to Haliax Station in the Echidna Prime system.';\n                    return `<p>${text1}</p>`;\n                },\n                performAction: function (p) {\n                    p.currentLocationId = 'haliax';\n                }\n            },\n            {\n                next: 'arriveDrone',\n                getText: function (playerState) {\n                    const text1 = 'You leave Haliax Station, heading to Drone Station in the Eldrazi Minor system.';\n                    return `<p>${text1}</p>`;\n                },\n                performAction: function (p) {\n                    p.currentLocationId = 'drone';\n                }\n            }\n        ]\n    },\n    {\n        id: 'arriveDrone',\n        title: 'Arriving in Drone Station',\n        getText: function (playerState) {\n            const text1 = 'The neighboring planet looms over the station, casting a gloom across every resident\\'s face. Not literally, the planet is far enough away from the station that it is easy to ignore out the windows. But just knowing that the monsters of Eldrazi are in the same star system brings everyone\\'s spirits down.';\n            return `<p>${text1}</p>`;\n        },\n        choices: [\n            {\n                next: 'marketDrone',\n                getText: function (playerState) {\n                    const text1 = 'Go buy and sell goods.';\n                    return `<p>${text1}</p>`;\n                },\n            }\n        ]\n    },\n    {\n        id: 'marketDrone',\n        title: 'To market, to market...',\n        getText: function (playerState) {\n            const text1 = 'You scroll through the market listings, looking at what is best to buy and sell here.';\n            const text2 = 'The listings are kept in the \"Map\" section of your display.';\n            return `<p>${text1}</p><p>${text2}</p>`;\n        },\n        createChoices: function (playerState) {\n            if (this.choices.findIndex((c) => c.getText(playerState).includes('coins per unit.')) <= -1) {\n                this.choices = [\n                    ...(0,_utils__WEBPACK_IMPORTED_MODULE_0__.makePurchaseChoices)('marketHaliax', { food: 5, medicine: 5, luxury: 10, shipSupplies: 5 }, { food: 3, medicine: 4, luxury: 8, shipSupplies: 5 }, _utils__WEBPACK_IMPORTED_MODULE_0__.makeSellChoice, _utils__WEBPACK_IMPORTED_MODULE_0__.makeBuyChoice, playerState, _utils__WEBPACK_IMPORTED_MODULE_0__.hasEnoughMoney, _utils__WEBPACK_IMPORTED_MODULE_0__.getItemTitle),\n                    ...this.choices\n                ];\n            }\n        },\n        choices: [\n            {\n                next: 'arriveHaliax',\n                getText: function (playerState) {\n                    const text1 = 'You leave Drone Station, heading to Haliax Station in the Echidna Prime system.';\n                    return `<p>${text1}</p>`;\n                },\n                performAction: function (p) {\n                    p.currentLocationId = 'haliax';\n                }\n            },\n            {\n                next: 'arriveEuropa',\n                getText: function (playerState) {\n                    const text1 = 'You leave Drone Station, heading to Europa Station in the Eldrazi Minor system.';\n                    return `<p>${text1}</p>`;\n                },\n                performAction: function (p) {\n                    p.currentLocationId = 'europa';\n                }\n            }\n        ]\n    },\n];\n\n\n//# sourceURL=webpack://spacemerchant-ts/./src/events.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events */ \"./src/events.ts\");\n/* harmony import */ var _story_crewDebt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./story-crewDebt */ \"./src/story-crewDebt.ts\");\n/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./map */ \"./src/map.ts\");\n\n\n\n\nconst COL_BLUE = 'cornflowerblue';\nconst COL_RED = 'lightcoral';\n// const COL_ORANGE = 'sandybrown';\n// const COL_LTGRAY = 'silver';\nconst COL_DKGRAY = 'gray';\n/**\n *PLAYER STATE\n **/\nconst playerState = {\n    coins: 100000,\n    cargo: [],\n    shipStats: { holdMax: 0, health: 0, speed: 0 },\n    miniEvent: {},\n    ship: '',\n    passengers: [],\n    crew: [],\n    costChoice: 0,\n    updateUI: false,\n    currentLocationId: 'excelsior',\n};\n/* end PLAYER STATE */\n/**\n *GLOBAL OBJECTS\n **/\nconst storyEvents = [..._events__WEBPACK_IMPORTED_MODULE_1__.events, ..._story_crewDebt__WEBPACK_IMPORTED_MODULE_2__.crewDebtStory];\n// @ts-ignore\nwindow.storyEvents = storyEvents;\n// @ts-ignore\nwindow.playerState = playerState;\n/* end GLOBAL OBJECTS */\n/**\n *GLOBAL DOM ELEMENTS\n **/\nconst jsDom = {};\n// @ts-ignore\nwindow.jsDom = jsDom;\nfunction getMainGameElem() {\n    if (!document) {\n        return;\n    }\n    const mainGameElem = document.querySelector('.mainGame');\n    if (!mainGameElem) {\n        throw new Error('Could not find mainGameElem');\n    }\n    jsDom.mainGameElem = mainGameElem;\n    return mainGameElem;\n}\nfunction getIframeWrapperElem() {\n    if (!document) {\n        return;\n    }\n    const iframeWrapperElem = document.querySelector('.iframeWrapper');\n    if (!iframeWrapperElem) {\n        throw new Error('Could not find iframeWrapperElem');\n    }\n    jsDom.iframeWrapperElem = iframeWrapperElem;\n    return iframeWrapperElem;\n}\nfunction getShowGraphButtonElem() {\n    if (!document) {\n        return;\n    }\n    const showGraphButtonElem = document.querySelector('#showGraph');\n    if (!showGraphButtonElem) {\n        throw new Error('Could not find showGraphButtonElem');\n    }\n    jsDom.showGraphButtonElem = showGraphButtonElem;\n    return showGraphButtonElem;\n}\nfunction getHideGraphButtonElem() {\n    if (!document) {\n        return;\n    }\n    const hideGraphButtonElem = document.querySelector('#hideGraph');\n    if (!hideGraphButtonElem) {\n        throw new Error('Could not find getHideGraphButtonElem');\n    }\n    jsDom.hideGraphButtonElem = hideGraphButtonElem;\n    return hideGraphButtonElem;\n}\nfunction makeStatsTab(selected, jsDom) {\n    // content for tab1\n    const explainText1 = 'Base stats like strength, speed, and intellect. Maybe some sort of points or game progress, as well.';\n    const strengthBarCollection = makeMeasureBar('strength', 'strength', COL_RED, COL_DKGRAY);\n    const tabContentElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', `js-tabContent tabContent tabContent1 ${selected ? 'selected' : ''}`);\n    tabContentElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('p', explainText1));\n    tabContentElem.appendChild(strengthBarCollection.barWrapper);\n    jsDom.strengthBarElem = strengthBarCollection.bar;\n    jsDom.strengthBarLabelElem = strengthBarCollection.barLabel;\n    jsDom.strengthBarWrapperElem = strengthBarCollection.barWrapper;\n    jsDom.strengthBarNumElem = strengthBarCollection.barNum;\n    jsDom.statsTabContentElem = tabContentElem;\n    return { tabContentElem };\n}\nfunction drawMapCanvas(canvas, playerState) {\n    const context = canvas.getContext(\"2d\");\n    context.fillStyle = \"black\";\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    for (const station of _map__WEBPACK_IMPORTED_MODULE_3__.map) {\n        context.fillStyle = \"aliceblue\";\n        context.beginPath();\n        context.arc(station.x, station.y, 15, 0, 180);\n        context.fill();\n        // add green dot to current location\n        if (station.id === playerState.currentLocationId) {\n            context.fillStyle = \"green\";\n            context.beginPath();\n            context.arc(station.x, station.y, 7, 0, 180);\n            context.fill();\n        }\n        for (const id of station.connects) {\n            // station is source, destination is target.\n            const destination = _map__WEBPACK_IMPORTED_MODULE_3__.map.find(dest => dest.id === id);\n            const dx = destination.x - station.x, dy = destination.y - station.y;\n            const theta = Math.atan2(dy, dx);\n            const nx = Math.cos(theta), ny = Math.sin(theta);\n            const perpx = Math.cos(theta - Math.PI / 2), perpy = Math.sin(theta - Math.PI / 2);\n            // const mag = Math.sqrt(dx*dx + dy*dy)\n            // const nx = dx / mag, ny = dy / mag;\n            // line\n            context.beginPath();\n            context.strokeStyle = \"silver\";\n            context.lineWidth = 3;\n            const padding = 10;\n            const d = 15 + padding;\n            context.moveTo(station.x + (d + 2) * nx, station.y + (d + 2) * ny);\n            context.lineTo(destination.x - (d + 2) * nx, destination.y - (d + 2) * ny);\n            context.stroke();\n            // arrow\n            const arrowLength = 10;\n            const arrowWidth = 12;\n            context.beginPath();\n            context.fillStyle = \"silver\";\n            context.moveTo(destination.x - d * nx, destination.y - d * ny);\n            context.lineTo(destination.x - (d + arrowLength) * nx - arrowWidth * perpx, destination.y - (d + arrowLength) * ny - arrowWidth * perpy);\n            context.lineTo(destination.x - (d + arrowLength) * nx + arrowWidth * perpx, destination.y - (d + arrowLength) * ny + arrowWidth * perpy);\n            context.lineTo(destination.x - d * nx, destination.y - d * ny);\n            context.fill();\n        }\n        context.beginPath();\n        const fontSize = 16;\n        context.font = `${fontSize}px sans-serif`;\n        context.textAlign = \"center\";\n        context.fillStyle = \"aqua\";\n        context.strokeStyle = \"black\";\n        context.lineWidth = .75;\n        context.fillText(station.id, station.x, station.y - fontSize * 1.15);\n        context.strokeText(station.id, station.x, station.y - fontSize * 1.15);\n    }\n}\nfunction makeMapTab(selected, jsDom) {\n    // content for tab 2\n    const canvasElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('canvas', 'mapCanvas');\n    canvasElem.setAttribute('width', '220');\n    canvasElem.setAttribute('height', '400');\n    drawMapCanvas(canvasElem, playerState);\n    const accordionWrapperElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'accordionWrapper');\n    const tabContentElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', `js-tabContent tabContent tabContent2 ${selected ? 'selected' : ''}`);\n    for (let i = 0; i < _map__WEBPACK_IMPORTED_MODULE_3__.map.length; i++) {\n        displayAccordionLocation(_map__WEBPACK_IMPORTED_MODULE_3__.map[i], accordionWrapperElem);\n    }\n    tabContentElem.appendChild(canvasElem);\n    tabContentElem.appendChild(accordionWrapperElem);\n    jsDom.mapCanvas = canvasElem;\n    jsDom.mapTabContentElem = tabContentElem;\n    return { tabContentElem };\n}\nfunction makeItemTab(selected, jsDom) {\n    // content for tab3\n    const explainText3 = 'Your items!';\n    const coinsElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'coins', 'Coins: ' + playerState.coins);\n    const cargoBarCollection = makeMeasureBar('cargo', 'cargo', COL_BLUE, COL_DKGRAY);\n    const cargoBarWrapper = cargoBarCollection.barWrapper;\n    const cargoBar = cargoBarCollection.bar;\n    const cargoBarLabel = cargoBarCollection.barLabel;\n    const cargoBarNum = cargoBarCollection.barNum;\n    const tabContentElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', `js-tabContent tabContent tabContent3 ${selected ? 'selected' : ''}`);\n    tabContentElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('p', '', explainText3));\n    tabContentElem.appendChild(coinsElem);\n    tabContentElem.appendChild(cargoBarCollection.barWrapper);\n    // build CREW INFO section\n    const crewWrapperElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'crewWrapper');\n    const crewTitleElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('h3', 'crewTitle', 'Crew');\n    crewWrapperElem.appendChild(crewTitleElem);\n    const crewInnerWrapperElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('ul', 'crewInnerWrapper');\n    updateCrewList(crewInnerWrapperElem, playerState);\n    crewWrapperElem.appendChild(crewInnerWrapperElem);\n    tabContentElem.appendChild(crewWrapperElem);\n    // end CREW INFO SECTION\n    jsDom.coinsElem = coinsElem;\n    jsDom.cargoBarElem = cargoBar;\n    jsDom.cargoBarWrapperElem = cargoBarWrapper;\n    jsDom.cargoBarLabelElem = cargoBarLabel;\n    jsDom.cargoBarNumElem = cargoBarNum;\n    jsDom.itemTabContentElem = tabContentElem;\n    jsDom.crewWrapperElem = crewWrapperElem;\n    jsDom.crewInnerWrapperElem = crewInnerWrapperElem;\n    jsDom.crewTitleElem = crewTitleElem;\n    return { coinsElem, tabContentElem, crewWrapperElem, crewInnerWrapperElem, crewTitleElem };\n}\nfunction updateCoinsElem(coinsElem, playerState) {\n    coinsElem.innerText = `Coins: ${playerState.coins}`;\n}\nfunction updateCrewList(crewInnerWrapperElem, playerState) {\n    crewInnerWrapperElem.innerHTML = '';\n    const crewList = [];\n    if (playerState.crew.length < 1) {\n        crewInnerWrapperElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('li', 'crew', 'No crew hired on this ship!'));\n    }\n    else {\n        for (let i = 0; i < playerState.crew.length; i++) {\n            const crew = playerState.crew[i];\n            const crewElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('li', 'crew', `${crew.jobTitle}: ${crew.name}, \\$${crew.salary}/port\\n` +\n                `${JSON.stringify(crew.bonus)}.`);\n            crewList.push(crew);\n            crewInnerWrapperElem.appendChild(crewElem);\n        }\n    }\n}\nif (typeof window !== \"object\") {\n    console.log('this is not a browser, the DOM is not available');\n}\nelse {\n    const mainGameElem = getMainGameElem();\n    getIframeWrapperElem();\n    const showGraphButtonElem = getShowGraphButtonElem();\n    showGraphButtonElem.addEventListener('click', showGraph);\n    const hideGraphButtonElem = getHideGraphButtonElem();\n    hideGraphButtonElem.addEventListener('click', hideGraph);\n    const statsBoxWrapperElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'js-statsBox js-tabbedArea center');\n    statsBoxWrapperElem.setAttribute('id', 'open-modal');\n    const statsBoxElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'statsBoxInner');\n    statsBoxWrapperElem.appendChild(statsBoxElem);\n    const statsBoxOpenElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'modal-open statsBox-open');\n    statsBoxOpenElem.innerHTML = '<a href=\"#open-modal\">&#9776;</a>';\n    const statsBoxCloseElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'modal-close statsBox-close');\n    statsBoxCloseElem.innerHTML = '<a href=\"#close-modal\">&#x2715;</a>';\n    const controlBoxElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'js-controlBox left');\n    const storyBoxElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'js-storyBox right');\n    const scrollBoxElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'js-scrollbox');\n    mainGameElem.appendChild(storyBoxElem);\n    mainGameElem.appendChild(statsBoxWrapperElem);\n    mainGameElem.appendChild(statsBoxOpenElem);\n    mainGameElem.appendChild(controlBoxElem);\n    storyBoxElem.appendChild(scrollBoxElem);\n    controlBoxElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.buildIcon)('play'));\n    controlBoxElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.buildIcon)('save'));\n    controlBoxElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.buildIcon)('settings'));\n    controlBoxElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.buildIcon)('person'));\n    const tabsElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('ul', 'js-tabs');\n    jsDom.tabsElem = tabsElem;\n    // add three tab heads, 3rd starts selected\n    tabsElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('li', 'js-tab tab tab1', 'Stats'));\n    tabsElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('li', 'js-tab tab tab2', 'Map'));\n    tabsElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('li', 'js-tab tab tab3', 'Items'));\n    // add three tab bodies, 3rd starts selected and visible\n    makeStatsTab(false, jsDom);\n    makeMapTab(false, jsDom);\n    makeItemTab(true, jsDom);\n    // add them to tab element\n    tabsElem.appendChild(jsDom.statsTabContentElem);\n    tabsElem.appendChild(jsDom.mapTabContentElem);\n    tabsElem.appendChild(jsDom.itemTabContentElem);\n    statsBoxElem.appendChild(tabsElem);\n    statsBoxElem.appendChild(statsBoxCloseElem);\n    const tabsElemAsArray = Array.from(tabsElem.getElementsByClassName('js-tab'));\n    const tabsContentElemAsArray = Array.from(tabsElem.getElementsByClassName('js-tabContent'));\n    tabsElemAsArray.forEach((elem) => {\n        elem.addEventListener('click', (event) => {\n            var _a, _b, _c;\n            const clickedTab = event.target;\n            tabsElemAsArray.forEach(elem => elem.classList.remove('selected'));\n            tabsContentElemAsArray.forEach(elem => elem.classList.remove('selected'));\n            clickedTab.classList.add('selected');\n            if (clickedTab.classList.contains('tab1')) {\n                (_a = tabsElem.getElementsByClassName('tabContent1')[0]) === null || _a === void 0 ? void 0 : _a.classList.add('selected');\n            }\n            if (clickedTab.classList.contains('tab2')) {\n                (_b = tabsElem.getElementsByClassName('tabContent2')[0]) === null || _b === void 0 ? void 0 : _b.classList.add('selected');\n            }\n            if (clickedTab.classList.contains('tab3')) {\n                (_c = tabsElem.getElementsByClassName('tabContent3')[0]) === null || _c === void 0 ? void 0 : _c.classList.add('selected');\n            }\n        });\n    });\n    jsDom.statsBoxWrapperElem = statsBoxWrapperElem;\n    jsDom.statsBoxElem = statsBoxElem;\n    jsDom.statsBoxOpenElem = statsBoxOpenElem;\n    jsDom.controlBoxElem = controlBoxElem;\n    jsDom.storyBoxElem = storyBoxElem;\n    jsDom.scrollBoxElem = scrollBoxElem;\n    //CALL THE FUNCTION displayEvent AND USE IT TO CREATE THE FIRST EVENT ON THE SCREEN\n    window.onload = () => {\n        let limit = 100;\n        const checkForCoinElem = () => setTimeout(() => {\n            const coinsElem = jsDom.coinsElem;\n            if (!coinsElem && limit > 0) {\n                limit--;\n                checkForCoinElem();\n            }\n            else if (!coinsElem) {\n                console.log('NO COINS ELEMENT ON PAGE, GAVE UP LOOKING');\n            }\n            else {\n                console.log('COIN ELEM FOUND!');\n                initGame(playerState, scrollBoxElem, storyEvents.find(obj => obj.id === 'firstEvent'));\n            }\n        }, 50);\n        checkForCoinElem();\n    };\n}\nfunction initGame(playerState, scrollBoxElem, firstEvent) {\n    displayEvent(firstEvent, playerState, jsDom);\n    updateMeasureBar(jsDom.cargoBarElem, jsDom.cargoBarNumElem, playerState.cargo.length, (0,_utils__WEBPACK_IMPORTED_MODULE_0__.calculateHoldMax)(playerState));\n}\n/* end DOM ELEMENTS */\n/**\n *TOGGLE EVENT GRAPH VISIBILITY\n **/\nfunction showGraph() {\n    if (!document) {\n        return;\n    }\n    jsDom.mainGameElem.style.display = 'none';\n    jsDom.mainGameElem.style.visibility = 'hidden';\n    jsDom.iframeWrapperElem.style.visibility = 'visible';\n    jsDom.iframeWrapperElem.style.display = 'block';\n    jsDom.iframeWrapperElem.style.height = '81vh';\n    const iframeElem = jsDom.iframeWrapperElem.firstElementChild;\n    iframeElem.style.height = '100%';\n}\nfunction hideGraph() {\n    if (!document) {\n        return;\n    }\n    jsDom.mainGameElem.style.display = 'flex';\n    jsDom.mainGameElem.style.visibility = 'visible';\n    jsDom.iframeWrapperElem.style.visibility = 'hidden';\n    jsDom.iframeWrapperElem.style.display = 'none';\n    jsDom.iframeWrapperElem.style.height = '0';\n    const iframeElem = jsDom.iframeWrapperElem.firstElementChild;\n    iframeElem.style.height = '0';\n}\n/* end TOGGLE EVENT GRAPH VISIBILITY */\nfunction makeMeasureBar(className, label, primaryColor, secondaryColor) {\n    const barWrapper = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', `barWrapper ${className}-bar`);\n    const barLabel = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('span', 'barLabel', label);\n    const barNum = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('span', 'barNum');\n    const bar = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', `bar`);\n    bar.setAttribute('style', `box-sizing:content-box;width:auto;border-left: 0px solid ${primaryColor};background-color:${secondaryColor}`);\n    barWrapper.appendChild(barLabel);\n    bar.appendChild(barNum);\n    barWrapper.appendChild(bar);\n    return { barWrapper, bar, barLabel, barNum };\n}\nfunction updateMeasureBar(bar, barNum, currentValue, maxValue) {\n    if (!bar) {\n        return console.log('bar element not found');\n    }\n    const barWidth = bar.offsetWidth;\n    const borderWidth = Math.round((currentValue / maxValue) * barWidth);\n    bar.style.background = COL_DKGRAY;\n    bar.style.borderLeftWidth = borderWidth + 'px';\n    barNum.innerText = currentValue + '/' + maxValue;\n}\n/**\n *STATS BOX CONTROLS\n **/\nfunction displayAccordionLocation(location, accordionWrapperElem) {\n    const itemWrapperElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'accordionItemWrapper');\n    const buttonElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('button', 'accordion', location.title);\n    buttonElem.addEventListener('click', (event) => {\n        var _a;\n        event.preventDefault();\n        const elem = event.target;\n        elem.classList.toggle(\"active\");\n        (_a = elem.nextElementSibling) === null || _a === void 0 ? void 0 : _a.classList.toggle(\"show\");\n    });\n    const itemListElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('ul', 'itemList');\n    const panelElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'panel');\n    panelElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('p', '', location.description));\n    panelElem.append(itemListElem);\n    for (const prop in location.items) {\n        const items = location.items;\n        const item = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('li', 'item', prop + ': $' + items[prop].cost);\n        itemListElem.append(item);\n    }\n    itemWrapperElem.appendChild(buttonElem);\n    itemWrapperElem.appendChild(panelElem);\n    accordionWrapperElem.append(itemWrapperElem);\n}\n/**\n *end STATS BOX CONTROLS\n **/\n/**\n *STORY BOX CONTROLS\n **/\n//EVENT OBJECT STORED IN SEPARATE FILE\n//FUNCTION TO MAKE BUY CHOICE -- NEED TO MAKE THIS!!!\n//MAKE AN EVENT APPEAR ON THE SCREEN\nfunction displayEvent(storyEvent, playerState, jsDom) {\n    const scrollBoxElem = jsDom.scrollBoxElem;\n    scrollBoxElem.innerHTML = '';\n    const eventWrapperElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'storyContentWrapper');\n    // eventWrapperElem.dataset.storyEvent = 'storyEvent', JSON.stringify(storyEvent);\n    drawMapCanvas(jsDom.mapCanvas, playerState);\n    scrollBoxElem.appendChild(eventWrapperElem);\n    const eventText = storyEvent.getText ?\n        storyEvent.getText(playerState) : storyEvent.text ?\n        storyEvent.text : '';\n    if (typeof eventText !== 'string') {\n        throw new Error(`eventText of ${storyEvent.id} is not a string`);\n    }\n    eventWrapperElem.appendChild((0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('h3', 'eventTitle', storyEvent.title));\n    const eventTextWrapperElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'eventTextWrapper');\n    eventTextWrapperElem.innerHTML = eventText;\n    eventWrapperElem.appendChild(eventTextWrapperElem);\n    const choicesWrapperElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'choicesWrapper');\n    eventWrapperElem.appendChild(choicesWrapperElem);\n    if (storyEvent.createChoices !== undefined) {\n        storyEvent.createChoices(playerState);\n    }\n    const choiceList = [...storyEvent.choices];\n    if (Math.floor(Math.random() * 10) > 5 && (playerState.crew.length > 0 || playerState.passengers.length > 0)) {\n        choiceList.push({\n            next: 'crewDebtA',\n            getText: (playerState) => {\n                return 'Oh no! Someone runs up to you panicking!';\n            }\n        });\n    }\n    for (let i = 0; i < choiceList.length; i++) {\n        const choice = choiceList[i];\n        const choiceElem = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.tag)('div', 'choice');\n        const text = choice.getText ?\n            choice.getText(playerState) : choice.text ?\n            choice.text : '';\n        if (typeof text === 'string') {\n            choiceElem.innerHTML = text;\n        }\n        choiceElem.dataset.nextEvent = choice.next;\n        choiceElem.dataset.choice = JSON.stringify(choice);\n        if (choice.isActionValid && choice.isActionValid(playerState) === false) {\n            choiceElem.classList.add('class', 'notValid');\n        }\n        if (choice.next && !storyEvents.find(obj => obj.id === choice.next)) {\n            choiceElem.classList.add('class', 'notValid');\n        }\n        choiceElem.addEventListener(\"click\", (event) => {\n            if (choice.next && !storyEvents.find(obj => obj.id === choice.next)) {\n                return;\n            }\n            if (choice.isActionValid && !choice.isActionValid(playerState)) {\n                return;\n            }\n            if (choice.hasOwnProperty('performAction') && choice.performAction !== undefined) {\n                choice.performAction(playerState);\n                updateMeasureBar(jsDom.cargoBarElem, jsDom.cargoBarNumElem, playerState.cargo.length, (0,_utils__WEBPACK_IMPORTED_MODULE_0__.calculateHoldMax)(playerState));\n                updateCoinsElem(jsDom.coinsElem, playerState);\n                updateCrewList(jsDom.crewInnerWrapperElem, playerState);\n            }\n            const nextEvent = storyEvents.find(obj => obj.id === choice.next);\n            displayEvent(nextEvent, playerState, jsDom);\n        });\n        choicesWrapperElem.appendChild(choiceElem);\n    }\n}\n/**\n *end STORY BOX CONTROLS\n **/\n\n\n//# sourceURL=webpack://spacemerchant-ts/./src/index.ts?");

/***/ }),

/***/ "./src/map.ts":
/*!********************!*\
  !*** ./src/map.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"map\": () => (/* binding */ map)\n/* harmony export */ });\nconst map = [\n    { id: 'excelsior',\n        x: 60, y: 60,\n        'title': 'Beta Thymine, Excelsior Station',\n        'connects': ['haliax'],\n        'description': 'A tiny backwater, avoid here if possible. Hard to reach, exciting to leave.',\n        items: {\n            food: { quantity: 15, cost: 10 },\n            medicine: { quantity: 24, cost: 5 },\n            luxury: { quantity: 6, cost: 25 }\n        }\n    },\n    { id: 'haliax',\n        x: 160, y: 50,\n        'title': 'Ganymede Prime, Haliax Station',\n        'connects': ['excelsior', 'europa', 'drone'],\n        'description': 'A place, things happen here.',\n        items: {\n            food: { quantity: 5, cost: 25 },\n            medicine: { quantity: 14, cost: 10 },\n            luxury: { quantity: 22, cost: 5 }\n        }\n    },\n    { id: 'europa',\n        x: 40, y: 130,\n        'title': 'Echidna 4317, Europa Station',\n        'connects': ['haliax', 'drone'],\n        'description': 'Beautiful, elegant, expensive.',\n        items: {\n            food: { quantity: 23, cost: 8 },\n            medicine: { quantity: 9, cost: 25 },\n            luxury: { quantity: 21, cost: 5 }\n        }\n    },\n    { id: 'drone',\n        x: 180, y: 180,\n        'title': 'Eldrazi Minor, Drone Station',\n        'connects': ['europa', 'haliax', 'tripoint'],\n        'description': 'Scary monsters dwell on this station\\'s neighboring planet.',\n        items: {\n            food: { quantity: 11, cost: 15 },\n            medicine: { quantity: 7, cost: 18 },\n            luxury: { quantity: 10, cost: 15 }\n        }\n    },\n    { id: 'cyteen',\n        x: 30, y: 210,\n        'title': 'Cyteen, Cyteen Station',\n        'connects': ['drone', 'downbelow'],\n        'description': 'A barely habitable planet with a wealth of biotech and a gorgeous station.',\n        items: {\n            food: { quantity: 5, cost: 25 },\n            medicine: { quantity: 30, cost: 5 },\n            luxury: { quantity: 15, cost: 10 }\n        }\n    },\n    { id: 'downbelow',\n        x: 60, y: 310,\n        'title': 'Betelgeuse, Downbelow Station',\n        'connects': ['cyteen', 'tripoint'],\n        'description': 'Aliens live on the nearby planet. The station is mostly human though.',\n        items: {\n            food: { quantity: 35, cost: 5 },\n            medicine: { quantity: 5, cost: 35 },\n            luxury: { quantity: 10, cost: 20 }\n        }\n    },\n    { id: 'tripoint',\n        x: 120, y: 250,\n        'title': 'Deep Space, Tripoint Station',\n        'connects': ['downbelow', 'mazian', 'drone'],\n        'description': 'A dying white dwarf provides enough energy for a basic station, but not much else.',\n        items: {\n            food: { quantity: 5, cost: 25 },\n            medicine: { quantity: 5, cost: 25 },\n            luxury: { quantity: 5, cost: 25 }\n        }\n    },\n    { id: 'mazian',\n        x: 170, y: 330,\n        'title': 'Alpha Centauri, Mazian Station',\n        'connects': ['tripoint', 'earth'],\n        'description': 'Beware: Pirates.',\n        items: {\n            food: { quantity: 5, cost: 35 },\n            medicine: { quantity: 5, cost: 35 },\n            luxury: { quantity: 5, cost: 35 }\n        }\n    },\n    { id: 'earth',\n        x: 60, y: 380,\n        'title': 'Sol System, Earth Station',\n        'connects': ['mazian'],\n        'description': 'Cradle of humanity. Very rich.',\n        items: {\n            food: { quantity: 35, cost: 5 },\n            medicine: { quantity: 35, cost: 5 },\n            luxury: { quantity: 35, cost: 5 }\n        }\n    }\n];\n\n\n//# sourceURL=webpack://spacemerchant-ts/./src/map.ts?");

/***/ }),

/***/ "./src/story-crewDebt.ts":
/*!*******************************!*\
  !*** ./src/story-crewDebt.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"crewDebtStory\": () => (/* binding */ crewDebtStory)\n/* harmony export */ });\n/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map */ \"./src/map.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n\n\nconst crewDebtStory = [\n    {\n        id: 'crewDebtA',\n        title: 'A debt comes due!',\n        getText: function (p) {\n            // set characters, event path, cost, reward here\n            const characterList = [...p.crew, ...p.passengers];\n            const newMainCharacter = characterList.splice((0,_utils__WEBPACK_IMPORTED_MODULE_1__.randomInt)(0, characterList.length - 1))[0];\n            const locationList = [p.currentLocationId];\n            for (let i = 0; i < 2; i++) {\n                const location = _map__WEBPACK_IMPORTED_MODULE_0__.map.find(loc => loc.connects.includes(locationList[locationList.length - 1]) && !locationList.includes(loc.id));\n                locationList.push(location.id);\n            }\n            p.miniEvent = {\n                mainCharacter: newMainCharacter,\n                locationList,\n                cost: 10000\n            };\n            // ignore next line because we check mainCharacter type in ternary statement so it is safe\n            // @ts-ignore\n            return `<p>Debt collectors are on the trail of ${p.miniEvent.mainCharacter.name}, your ship's ${(0,_utils__WEBPACK_IMPORTED_MODULE_1__.jobTitleTransform)(p.miniEvent.mainCharacter.hasOwnProperty('jobTitle') ? p.miniEvent.mainCharacter.jobTitle : '')}. They owe them \\$${p.miniEvent.cost}.</p>`;\n        },\n        choices: [\n            {\n                next: 'crewDebtB',\n                getText: function (p) {\n                    const mainCharacter = p.miniEvent.mainCharacter;\n                    const locationList = p.miniEvent.locationList;\n                    const lastLocationId = locationList[locationList.length - 1];\n                    const lastLocation = _map__WEBPACK_IMPORTED_MODULE_0__.map.find(place => place.id === lastLocationId);\n                    const nextLocationId = locationList[locationList.findIndex(id => id === p.currentLocationId) + 1];\n                    const nextLocation = _map__WEBPACK_IMPORTED_MODULE_0__.map.find(place => place.id === nextLocationId);\n                    console.log({ locationList, currentLocationId: p.currentLocationId, nextLocationId, lastLocationId });\n                    return `Hurry towards ${lastLocation.title} via ${nextLocation.title} to meet with a friend who can help ${mainCharacter.name} out of their sticky situation.`;\n                },\n                isActionValid: function (p) {\n                    const locationList = p.miniEvent.locationList;\n                    const lastLocationId = locationList[locationList.length - 1];\n                    return lastLocationId !== p.currentLocationId;\n                },\n                performAction: function (p) {\n                    const nextLocationId = p.miniEvent.locationList[p.miniEvent.locationList.findIndex(id => id === p.currentLocationId) + 1];\n                    p.currentLocationId = nextLocationId;\n                }\n            },\n            {\n                next: 'crewDebtC',\n                getText: function (playerState) {\n                    const text = 'Pay the thugs off.';\n                    return text;\n                },\n                isActionValid: function (playerState) {\n                    return playerState.coins >= playerState.miniEvent.cost;\n                },\n                performAction: function (playerState) {\n                    playerState.coins -= playerState.miniEvent.cost;\n                }\n            }\n        ]\n    },\n    {\n        id: 'crewDebtB',\n        title: 'Racing to a friend!',\n        getText: function (p) {\n            const keepGoing = `There is no time to waste! Keep going!`;\n            return keepGoing;\n        },\n        choices: [\n            {\n                next: 'crewDebtB',\n                getText: function (p) {\n                    const mainCharacter = p.miniEvent.mainCharacter;\n                    const locationList = p.miniEvent.locationList;\n                    const lastLocationId = locationList[locationList.length - 1];\n                    const lastLocation = _map__WEBPACK_IMPORTED_MODULE_0__.map.find(place => place.id === lastLocationId);\n                    const nextLocationId = locationList[locationList.findIndex(id => id === p.currentLocationId) + 1];\n                    const nextLocation = _map__WEBPACK_IMPORTED_MODULE_0__.map.find(place => place.id === nextLocationId);\n                    const goNextLocation = `Hurry towards ${lastLocation.title} via ${nextLocation.title} to meet with a friend who can help ${mainCharacter.name} out of their sticky situation.`;\n                    const goLastLocation = `Hurry to ${lastLocation.title} to meet with a friend who can help ${mainCharacter.name} out of their sticky situation.`;\n                    if (nextLocationId === lastLocationId) {\n                        this.next = 'crewDebtD';\n                        return goLastLocation;\n                    }\n                    return goNextLocation;\n                },\n                isActionValid: function (p) {\n                    const locationList = p.miniEvent.locationList;\n                    const nextLocationId = locationList[locationList.findIndex(id => id === p.currentLocationId) + 1];\n                    return locationList.includes(nextLocationId);\n                },\n                performAction: function (p) {\n                    const nextLocationId = p.miniEvent.locationList[p.miniEvent.locationList.findIndex(id => id === p.currentLocationId) + 1];\n                    p.currentLocationId = nextLocationId;\n                }\n            },\n            {\n                next: 'crewDebtC',\n                getText: function (playerState) {\n                    const text = 'Pay the thugs off.';\n                    return text;\n                },\n                isActionValid: function (playerState) {\n                    return playerState.coins >= playerState.miniEvent.cost;\n                },\n                performAction: function (playerState) {\n                    playerState.coins -= playerState.miniEvent.cost;\n                }\n            }\n        ]\n    },\n    {\n        id: 'crewDebtC',\n        title: 'Pay the thugs off.',\n        getText: function (p) {\n            return `You had the money to make this problem go away. Thank goodness! Now back to your safer everyday life.`;\n        },\n        createChoices: function (p) {\n            const locId = p.currentLocationId;\n            const firstLetterCap = locId.charAt(0).toUpperCase();\n            const restOfWord = locId.slice(1);\n            const nameOfStation = _map__WEBPACK_IMPORTED_MODULE_0__.map.find(loc => loc.id === locId).title;\n            this.choices = [\n                {\n                    next: `market${firstLetterCap}${restOfWord}`,\n                    text: `Go to market at ${nameOfStation}.`\n                },\n                ...this.choices\n            ];\n        },\n        choices: []\n    },\n    {\n        id: 'crewDebtD',\n        title: 'A friend helps you out of a bind.',\n        getText: function (p) {\n            const mainCharacter = p.miniEvent.mainCharacter;\n            const arrive = `You made it! You find ${mainCharacter.name}'s friend. They are disappionted to have to bail them out, but willing to give them one more chance.`;\n            return arrive;\n        },\n        createChoices: function (p) {\n            const locId = p.currentLocationId;\n            const firstLetterCap = locId.charAt(0).toUpperCase();\n            const restOfWord = locId.slice(1);\n            const nameOfStation = _map__WEBPACK_IMPORTED_MODULE_0__.map.find(loc => loc.id === locId).title;\n            this.choices = [\n                {\n                    next: `market${firstLetterCap}${restOfWord}`,\n                    text: `Go to market at ${nameOfStation}.`\n                },\n                ...this.choices\n            ];\n        },\n        choices: []\n    }\n];\n\n\n//# sourceURL=webpack://spacemerchant-ts/./src/story-crewDebt.ts?");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"buildIcon\": () => (/* binding */ buildIcon),\n/* harmony export */   \"calculateHoldMax\": () => (/* binding */ calculateHoldMax),\n/* harmony export */   \"getItemTitle\": () => (/* binding */ getItemTitle),\n/* harmony export */   \"hasEnoughCargoSpace\": () => (/* binding */ hasEnoughCargoSpace),\n/* harmony export */   \"hasEnoughMoney\": () => (/* binding */ hasEnoughMoney),\n/* harmony export */   \"jobTitleTransform\": () => (/* binding */ jobTitleTransform),\n/* harmony export */   \"makeBuyChoice\": () => (/* binding */ makeBuyChoice),\n/* harmony export */   \"makePurchaseChoices\": () => (/* binding */ makePurchaseChoices),\n/* harmony export */   \"makeSellChoice\": () => (/* binding */ makeSellChoice),\n/* harmony export */   \"randomInt\": () => (/* binding */ randomInt),\n/* harmony export */   \"tag\": () => (/* binding */ tag)\n/* harmony export */ });\nfunction jobTitleTransform(jobTitle) {\n    let fixedTitle = '';\n    switch (jobTitle) {\n        case 'navigator':\n            fixedTitle = 'navigator';\n            break;\n        case 'cargoMaster':\n            fixedTitle = 'cargo master';\n            break;\n        case 'doctor':\n            fixedTitle = 'doctor';\n            break;\n        case 'ai':\n            fixedTitle = 'AI';\n            break;\n        default:\n            fixedTitle = 'passenger';\n    }\n    return fixedTitle;\n}\nfunction randomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n// function to help nest html built in my js\nfunction tag(tagType, classes, content) {\n    const elem = document.createElement(tagType);\n    elem.setAttribute('class', classes);\n    if (!content) {\n        return elem;\n    }\n    if (typeof content === 'string') {\n        elem.innerText = content;\n    }\n    if (typeof content !== 'string') {\n        elem.appendChild(content);\n    }\n    return elem;\n}\nfunction buildIcon(iconName) {\n    const iconWrapper = document.createElement('div');\n    iconWrapper.setAttribute('title', iconName);\n    iconWrapper.setAttribute('class', 'iconWrapper');\n    const svgWrapper = document.createElement('svg');\n    svgWrapper.setAttribute('viewbox', '0 0 100 100');\n    svgWrapper.setAttribute('class', 'icon');\n    const use = document.createElement('use');\n    use.setAttribute('class', iconName + '1 iconInner');\n    use.setAttribute('xlink:href', '#' + iconName);\n    use.setAttribute('x', '0');\n    use.setAttribute('y', '0');\n    svgWrapper.appendChild(use);\n    iconWrapper.appendChild(svgWrapper);\n    return iconWrapper;\n}\n//get a number of total items held in \"cargo\" to use for buying and carrying trade goods, etc.\nfunction calculateHoldMax(playerState) {\n    let value = 0;\n    value += playerState.shipStats.holdMax;\n    for (const person of playerState.crew) {\n        value += person.bonus.holdMax;\n    }\n    return value;\n}\nfunction hasEnoughMoney(playerState, cost) {\n    return playerState.coins >= cost;\n}\nfunction hasEnoughCargoSpace(playerState, calculateHoldMax) {\n    return playerState.cargo.length < calculateHoldMax(playerState);\n}\nconst getItemTitle = (itemType) => {\n    const FOOD_STRING = 'High Density Foodstuffs';\n    const MEDICINE_STRING = 'Medicine';\n    const LUXURY_STRING = 'Luxury Items';\n    const SUPPLIES_STRING = 'Food and Repair Supplies';\n    return itemType === 'food' ? FOOD_STRING\n        : itemType === 'medicine' ? MEDICINE_STRING\n            : itemType === 'luxury' ? LUXURY_STRING\n                : SUPPLIES_STRING;\n};\nfunction makeSellChoice(next, cost, playerState, itemType, hasEnoughMoney, getItemTitle) {\n    const itemTitle = getItemTitle(itemType);\n    return {\n        next,\n        cost,\n        getText: function (playerState) {\n            return `Sell ${itemTitle} at ${cost}` +\n                ' coins per unit. (Currently own '\n                + playerState.cargo.filter(s => s === itemType).length + ' units.)';\n        },\n        isActionValid: function (playerState) {\n            return playerState.cargo.indexOf(itemType) > -1;\n        },\n        performAction: function (playerState) {\n            const index = playerState.cargo.indexOf(itemType);\n            if (index > -1) {\n                playerState.cargo.splice(index, 1);\n                playerState.coins += cost;\n            }\n        }\n    };\n}\nfunction makeBuyChoice(next, cost, playerState, itemType, getItemTitle) {\n    const itemTitle = getItemTitle(itemType);\n    return {\n        next,\n        cost,\n        getText: function (playerState) {\n            return `Buy ${itemTitle} at ${cost}`\n                + ' coins per unit. (Currently own '\n                + playerState.cargo.filter(s => s === itemType).length\n                + ' units.)';\n        },\n        isActionValid: function (p) {\n            const hasEnoughMoney = () => p.coins >= this.cost;\n            const hasEnoughCargoSpace = () => p.cargo.length < calculateHoldMax(p);\n            return (hasEnoughMoney() && hasEnoughCargoSpace());\n        },\n        performAction: function (playerState) {\n            playerState.coins -= cost;\n            playerState.cargo.push(itemType);\n        }\n    };\n}\nfunction makePurchaseChoices(next, sellPrices = { food: 10, medicine: 10, luxury: 10, shipSupplies: 10 }, buyPrices = { food: 10, medicine: 10, luxury: 10, shipSupplies: 10 }, makeSellChoice, makeBuyChoice, playerState, hasEnoughMoney, getItemTitle) {\n    const choiceArray = [];\n    const cargoTypes = ['food', 'medicine', 'luxury', 'shipSupplies'];\n    for (const itemName of cargoTypes) {\n        choiceArray.push(makeBuyChoice(next, buyPrices[itemName], playerState, itemName, getItemTitle));\n        choiceArray.push(makeSellChoice(next, sellPrices[itemName], playerState, itemName, hasEnoughMoney, getItemTitle));\n    }\n    return choiceArray;\n}\n\n\n//# sourceURL=webpack://spacemerchant-ts/./src/utils.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;